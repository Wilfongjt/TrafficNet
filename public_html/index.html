<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
        <style>
            .done {
                color: darkgray;
            }
        </style>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div class="header-container">
            <header class="wrapper clearfix">
                <h1 class="title">Traffic Net</h1>
                <nav>
                    <ul>
                        <li><a class="step" href="#">Step</a></li>

                        <li><a class="state" href="#">State</a></li>
                    </ul>
                </nav>
            </header>
        </div>


        <div class="main-container">
            <div class="main wrapper clearfix">

                <article>
                    <header>
                        <h1>Description</h1>
                        <p>RoadNet is a traffic simulation. Cars drive around the network making random turns, creating traffic jams, and riding bumpers.</p>
                    </header>
                    <section>
                        <h2>The Road Network</h2>

                        <nav  class="wrapper clearfix">
                            <ul>
                                <li><a class="start" href="#">Start</a></li>
                                <li><a class="stop" href="#">Stop</a></li>
                            </ul>
                        </nav>
                        <!-- *************************************** -->
                        <svg id="network" width="700" height="620">

                        </svg>
                    </section>
                    <section>
                        <h2>Application Road Map</h2>
                        <p></p>
                        <h3>Upcoming Features</h3>
                        <ul> 

                            <li>Create real world road network</li>
                            <li>Create fixed path routing (i.e., bus routes)</li>
                            <li>Place traffic devices on road (i.e., counters, pollution detectors)</li>
                            <li>Place traffic signs on road </li>

                        </ul>
                        <h3>Completed Features</h3>
                        <ul>
                            <li class="done">Update Map Key with fire engine</li>
                            <li class="done">Stopping car  when fire engine approaches from behind</li>
                            <li class="done">Fire Engine </li>
                            <li class="done">Tailgating</li>
                            <li class="done">Random turns at intersections</li>
                            <li class="done">Write network state to console.log (state button)</li>

                            <li class="done">Step a single frame at a time (step button)</li>
                            <li class="done">Animate the cars to refect traffic changes over time</li>

                            <li class="done">Start and stop model (start and stop buttons)</li>
                            <li class="done">Port traffic model from Java</li>
                            <li class="done">Automatically generate cars on road network using SVG</li>
                            <li class="done">Initialize road network using SVG</li>

                            <li class="done">Build a JSON file to describe a road network (multi-segment roads, one way roads, speed-limit by road, one or more turns, dead ends)</li>
                            <li class="done">Build a self-contained application to model traffic </li>
                        </ul>
                        <h3>Issues</h3>
                        <ul> 

                            <li>Page hicups when start button is pressed</li>
                            <li>Traffic network color is too light</li>
                            <li>Traffic network is too big for phone</li>

                        </ul>
                    </section>
                    <section>
                        <h2>Techniques and Technologies</h2>
                        <ul>
                            <li>Animation (d3.v4.min.js)</li>

                            <li>Game Loop Animation</li>

                            <li>Drawing (SVG)</li>

                            <li>Geographic Data (JSON)</li>

                            <li><a href="" target="_blank">Java Traffic Model (GITHub)</a></li>

                            <li>Responsive (modernizr-2.8.3-respond-1.4.2.min.js)</li>
                            
                            <li>Google Cloud</li>
                        </ul>
                    </section>
                    <footer>
                        <h3></h3>
                        <p></p>
                    </footer>
                </article>

                <aside>
                    <h3>Map Key</h3>
                    <svg id="key">

                    </svg>

                </aside>

            </div> <!-- #main -->
        </div> <!-- #main-container -->

        <div class="footer-container">
            <footer class="wrapper">
                <h3>footer</h3>
            </footer>
        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="js/GIS.js"></script>
        <script src="js/TrafficModel.js"></script>
        <script src="js/main.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function (b, o, i, l, e, r) {
                b.GoogleAnalyticsObject = l;
                b[l] || (b[l] =
                        function () {
                            (b[l].q = b[l].q || []).push(arguments)
                        });
                b[l].l = +new Date;
                e = o.createElement(i);
                r = o.getElementsByTagName(i)[0];
                e.src = '//www.google-analytics.com/analytics.js';
                r.parentNode.insertBefore(e, r)
            }(window, document, 'script', 'ga'));
            ga('create', 'UA-XXXXX-X', 'auto');
            ga('send', 'pageview');
        </script>
        <script>
            var pleaseStopIamBored = false;
            $(function () { // jQuery DOM ready

                $('.step').click(function () { // click event for <a class="test">
                    pleaseStopIamBored = false;
                    update();
                    draw();
                });
                $('.start').click(function () { // click event for <a class="test">
                    //alert("start not implemented");
                    pleaseStopIamBored = false;
                    requestAnimationFrame(mainLoop);

                });
                $('.stop').click(function () { // click event for <a class="test">
                    //alert("start not implemented");

                    pleaseStopIamBored = true;

                });
                $('.state').click(function () { // click event for <a class="test">
                    console.log("----- Network State");
                    state();
                    console.log("--------------------")
                });
            });
        </script>
        <script>
            function mainLoop() {
                // console.log("loop");
                if (pleaseStopIamBored) {
                    return;
                }
                update();
                draw();
                requestAnimationFrame(mainLoop);
            }
        </script>

    </body>
</html>
